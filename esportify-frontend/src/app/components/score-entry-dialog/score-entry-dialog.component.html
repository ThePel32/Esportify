<div class="score-dialog">
  <h2>Entrer un score</h2>

  <form [formGroup]="scoreForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Participant</mat-label>
      <mat-select formControlName="user_id">
        <mat-option *ngFor="let p of participants" [value]="p.id">
          {{ p.username }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div *ngIf="['fifa', 'rocketleague'].includes(data.gameType)">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Score (toi)</mat-label>
        <input matInput type="number" formControlName="score" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Score (adversaire)</mat-label>
        <input matInput type="number" formControlName="score_opponent" />
      </mat-form-field>
    </div>

    <div *ngIf="['cs2', 'valorant'].includes(data.gameType)">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Kills</mat-label>
        <input matInput type="number" formControlName="kills" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Rounds gagnés</mat-label>
        <input matInput type="number" formControlName="score" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Rounds perdus</mat-label>
        <input matInput type="number" formControlName="score_opponent" />
      </mat-form-field>
    </div>

    <div *ngIf="data.gameType === 'supermeatboy'">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Temps (mm:ss)</mat-label>
        <input matInput formControlName="time" />
      </mat-form-field>
    </div>

    <div *ngIf="data.gameType === 'pubg'">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Kills</mat-label>
        <input matInput type="number" formControlName="kills" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Placement</mat-label>
        <input matInput type="number" formControlName="place" />
      </mat-form-field>
    </div>

    <div *ngIf="data.gameType === 'lol'">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Kills</mat-label>
        <input matInput type="number" formControlName="kills" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Assists</mat-label>
        <input matInput type="number" formControlName="assists" />
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Morts</mat-label>
        <input matInput type="number" formControlName="deaths" />
      </mat-form-field>
    </div>

    <div *ngIf="data.gameType === 'balatro'">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Score</mat-label>
        <input matInput type="number" formControlName="points" />
      </mat-form-field>
    </div>

    <div *ngIf="data.gameType === 'starcraft2'">
      <mat-radio-group formControlName="win">
        <mat-radio-button [value]="true">Victoire</mat-radio-button>
        <mat-radio-button [value]="false">Défaite</mat-radio-button>
      </mat-radio-group>
    </div>
    

    <div class="form-actions">
      <button class="esportify-button" type="submit">Valider</button>
      <button class="cancel-button" type="button" (click)="onCancel()">Annuler</button>
    </div>
  </form>
</div>
